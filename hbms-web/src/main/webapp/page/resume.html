<table id="resumeDg" class="easyui-datagrid"
       data-options="
       url:'/resume/findByBean.do',
       pagination:true,
       title : '',
       singleSelect: false,
       fitColumns : true,
       toolbar:'#resumeDgTb',
       ctrlSelect:true,
       rownumbers:true,
       onBeforeLoad : function(param){
         return postColumnFieldNames(param, 'resumeDg');
       }">
  <thead>
  <tr>
    <th data-options="field:'id',title:'选择',checkbox:true,align:'left'"></th>
    <th data-options="field:'candidateName',title:'候选人',width:100,align:'left',formatter: function(cell,row,index){return row.candidate.name}"></th>
    <th data-options="field:'name',title:'简历名称',width:100,align:'left'"></th>
    <th data-options="field:'keyword',title:'搜索关键字',width:100,align:'left'"></th>
    <th data-options="field:'language',title:'语言',width:100,align:'left',formatter: function(cell,row,index){return cell.value}"></th>
    <th data-options="field:'attachUri',title:'附件',width:100,align:'left'"></th>
    <th data-options="field:'createUser',title:'创建人',width:100,align:'left'"></th>
    <th data-options="field:'createTime',title:'创建时间',width:100,align:'left'"></th>
    <th data-options="field:'updateUser',title:'最后修改人',width:100,align:'left'"></th>
    <th data-options="field:'updateTime',title:'最后修改时间',width:100,align:'left'"></th>
  </tr>
  </thead>
</table>
<div id="resumeDgTb">
  <a href="#" class="easyui-linkbutton" type="add" iconCls="icon-add">新增</a>
  <a href="#" class="easyui-linkbutton" type="edit" iconCls="icon-edit">编辑</a>
  <a href="#" class="easyui-linkbutton" type="remove" iconCls="icon-remove">删除</a>
  <a href="#" class="easyui-linkbutton" type="view" iconCls="icon-view">查看</a>
</div>

<div id="resumeEditWin"
     class="easyui-dialog"
     style="vertical-align: middle;overflow: hidden"
     data-options="inline:true,closed:true">
  <table align="center" valign="top" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
      <td width="100%">
        <form id="resumeEditForm" method="post" enctype="multipart/form-data">
          <input type="hidden" name="id" value="">
          <table border="0" cellspacing="2px" cellpadding="2px" valign="middle">
            <tr>
              <td align="right"><label for="candidateId">候选人:</label></td>
              <td align="left">
                <input
                    id="candidateId"
                    class="easyui-textbox"
                    name="candidateId"
                    data-options="
                      required:true,
                      width:200,
                      buttonText: '选择',
                      buttonIcon: 'icon-ok',
                      onClickButton: function () {
                        showCandidateSelectWin({
                          selectCompleted:function(row){
                            $('#resumeEditWin #candidateId').textbox('setValue', row.id).textbox('setText', row.name);
                          }
                        });
                      }"/>
              </td>
            </tr>
            <tr>
              <td align="right"><label for="name">简历名称:</label></td>
              <td align="left"><input class="easyui-textbox" name="name" data-options="required:true,width:200"/></td>
            </tr>
            <tr>
              <td align="right"><label for="attachUri">简历附件:</label></td>
              <td align="left">
                <div id="attachUriContainer"></div>
              </td>
            </tr>
            <tr>
              <td align="right"><label for="keyword">搜索关键字:</label></td>
              <td align="left"><input class="easyui-textbox" name="keyword" data-options="required:true,width:200"/></td>
            </tr>
            <tr>
              <td align="right"><label for="languageId">语言:</label></td>
              <td align="left"><input class="easyui-combobox" name="languageId" data-options="required:true,url:'/listItem/findListItemsOfCategoryByCode.do?code=Language',valueField:'id',textField:'value',editable:false,width:200"></td>
            </tr>
            <tr>
              <td colspan="2" align="center" valign="bottom">
                <div id="resumeEditTb" style="margin-top: 10px">
                  <a href="#" class="easyui-linkbutton" type="add" iconCls="icon-save" onclick="insertOrUpdateResume()">保存</a>
                  <a href="#" class="easyui-linkbutton" type="cancel" iconCls="icon-cancel" onclick="$('#resumeEditWin').dialog({closed : true})">取消</a>
                </div>
              </td>
            </tr>
          </table>
        </form>
      </td>
    </tr>
  </table>
</div>

<script src="/js/business/resume.js"/>